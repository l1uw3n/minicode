# RHCE

## 访问命令行

- 相关概念
  - terminal:终端,用于向主机系统提供输入并产生输出的物理硬件设备
  - virtual terminal:虚拟终端/伪终端,模拟物理终端设备的程序
  - console:控制台,主机系统的物理控制单元
  - virtual console:虚拟控制台,模拟物理控制台的程序,一个物理控制台可以支持多个独立的虚拟控制台
  - x window/gui：图形桌面虚拟控制台
  - command line interface/cli：命令行虚拟控制台
  - tty:teletypes(电传打字机),终端设备的统称
  - pty:pseudo tty,虚拟终端设备
  - pts:pseudo-terminal slave:虚拟终端设备的具体实现方式
  - shell:命令语言解释器(command-language interpreter),作为系统内核的保护壳的同时实现人机交互,是内核面向用户的命令接口
  - bash:the bourne again shell,shell的一种具体实现,与cmd、powershell、sh、csh、ksh、zsh、fish等类似
- terminal、console等是物理设备或者物理设备的程序模拟，tty、pty、pts等是物理或虚拟设备在系统中的设备表示方式
- RHEL 7中提供六个虚拟控制台，第一个是图形桌面控制台，二至六是命令行控制台，RHEL 7以前的版本提供七个虚拟控制台，前六个是命令行控制台，第七个是图形桌面控制台，使用Ctrl+Alt+F1～F7进行切换。
- 命令行基础
  - Linux命令行参数支持三种不同写法中的一种或多种
    - UNIX类型参数，以短划线开头，"ps -ef"
    - BSD类型参数，不需要划线，"ps aux"
    - GNU长参数，以双划线开头，"ps --forest"
  - 命令帮助信息可以使用 命令 -h、命令 --help、man 命令、pinfo 命令等方式获取，有的命令同时支持几种方式。命令选项参数说明：
    - 方括号[]括起的是可选项目
    - 省略号...前面的任何内容均表示该类型项目的任意长度列表
    - 竖线|分隔的多个项目表示只能指定其中一个
    - 尖括号<>中的文本表示变量数据
  - RHEL默认使用的命令行shell是bash，bash支持TAB补全和结果高亮，bash还具有命令行编辑功能：
    - Ctrl+a:跳到命令行开头
    - Ctral+e:跳到命令行末尾
    - Ctrl+u:将光标处到命令行开头的内容清除
    - Ctrl+k:将光标处到命令行末尾的内容清除
    - Ctrl+r:在历史记录列表中搜索某模式的命令
    - Ctrl+左箭头:跳到命令行中前一字的开头
    - Ctrl+右箭头:跳到命令行中后一字的开头
    - Ctrl+上箭头:跳到上一条命令
    - Ctrl+下箭头:跳到下一条命令
    - !number:从history命令中扩展至与指定编号匹配的命令
    - !string:从history命令中扩展至最近一个以指定字符串开头的命令
    - Esc+.:复制以前命令的最后一个参数
    - Ctrl+c:强制结束当前进程
    - Ctrl+z:强制挂起/暂停当前进程
    - Ctrl+d:向当前进程发送特殊的二进制值EOF，通常要求进程正常退出

## 文件管理

- RHEL 7文件系统层次结构：
  - /:操作系统根目录
  - /dev:存放设备文件的目录，供系统访问硬件
  - /usr:安装的软件和共享库目录，其中/usr/bin是用户命令目录，/usr/sbin是系统管理命令命令，/usr/local是本来自定义软件目录
  - /etc:特定于此系统的配置文件
  - /var:特定于此系统的可变数据，在系统启动之间保持永久性
  - /run:自上次系统启动以来启动的进程的运行时数据，包括进程ID文件和锁定文件等，系统重启后会重新创建
  - /home:普通用户存储其个人数据和配置文件的主目录
  - /root:超级管理员用户root的主目录
  - /tmp:临时文件使用的全局可写空间
  - /boot:系统启动所需文件的存放目录
  - /boot/efi:UEFI模式系统启动所需文件的存放目录
  - /opt:系统额外安装的软件的存放目录
  - /mnt:用于设备挂载的目录
  - /media:媒体文件的存放和外部媒体设备的挂载目录
- RHEL 7以前版本的RHEL系统中的/bin、/sbin、/lib、/lib64目录在RHEL 7中已分别移动到/usr/bin、/usr/sbin、/usr/lib、/usr/lib64目录中，当前根目录下的bin、sbin、lib、lib64目录上/usr目录下相应目录的符号链接
- Linux各种文件系统下的文件名和目录名均区分大小写，同目录下的文件和目录不允许重名，因为目录本身也是一种文件，RHEL7默认使用xfs文件系统
- Linux文件系统内的文件由用户数据(userdata)和元数据(metadata)组成，元数据包括文件的一系列附加属性，其中inode号是文件的唯一标识
- 链接是Linux文件系统中的一种文件共享机制，硬链接是文件系统上的多个文件映射到一个物理文件上(即多个文件对应一个inode号),任何一个文件的修改都会在其他文件上生效，但是删除一个文件不会影响其他同一inode号的文件的存在性，硬链接只能在文件上创建且不能跨文件系统。软链接则类似windows系统的快捷方式，是一个普通文件，只是其用户数据部分存放的是指向被链接的文件的位置，软链接有自己单独的元数据(即inode号也是单独的)，软链接的删除不会影响被链接文件的存在性，被链接文件的删除会导致软链接成为死链接，软链接可以对目录创建也可以跨文件系统。使用ls -l命令可以看到当前系统的一个文件的inode对应了多少个文件，如果其inode上对应的文件数大于1，表示该文件存在若干个硬链接
- cd命令可以实现在各目录之间跳转，cd -表示跳转到用户进入的上一个目录，cd ~表示跳转到当前用户的主目录, cd .表示跳转到当前目录，cd ..表示跳转到当前目录的上一级目录, .和..其实是目录的两个特殊的硬链接，.开头的文件表示隐藏文件
- bash shell支持文件路径通配符，由于shell本身会进行路径通配，因此如果需要把带通配字符的字符串参数传递给命令本身处理，通常需要将该字符串参数用双引号括起来，防止shell作通配处理，bash shell支持的通配符如下：
  - *:0个或以上个字符
  - ?:任何一个字符
  - ~:当前用户主目录
  - ~username:指定用户主目录
  - ~+:当前工作目录
  - ~-:上一个工作目录
  - [abc...]:括起来的任一个字符
  - [!abc...]:任一个非括起来字符的字符
  - [^abc...]:任一个非括起来字符的字符
  - [[:alpha:]]:任何字母字符
  - [[:lower:]]:任何小写字符
  - [[:upper:]]:任何大写字符
  - [[:alnum:]]:任何字母或数字字符
  - [[:punct:]]:除空格和字母数字以外的任何可打印字符
  - [[:digit:]]:任何数字字符
  - [[:space:]]:任何空白字符
- 大括号{}用于生成任意字符串，包括字符串的逗号分隔列表或顺序表达式
- ``和${command}可以用于命令替换，可将相应字符串替换为命令执行后的输出，${command}形式支持嵌套
- 引号可以阻止通配和shell扩展，双引号允许命令和变量替换，单引号不可以
- 命令的标准输入、标准输出和标准错误是三个不同的通道，0通道是标准输入，名为stdin，默认是键盘，1通道是标准输出，名为stdout，默认是终端，2通道是标准错误，名为stderr，默认是终端。三个通道均可以进行重定向，< 是标准输入重定向， > 和 >> 是标准输出重定向，2> 和 2>> 是标准错误重定向， &> 和 2>&1 是将标准输出和标准错误均重定向到同一个地方，| 可以构建管道，用于将前面命令的输出重定向为后面命令的输入，tee可以将输出重定向到指定位置，然后提供一份重定向数据的副本作为后续命令的输入
- whereis、locate和find命令可以进行文件查找，find命令可以定制复杂的查找规则，以文件遍历的方式查找，速度较慢，locate命令依靠系统内维护的文件索引数据库来定位文件，文件索引数据库维护的信息并不是实时的，通常是每日更新一次，所以直接使用locate命令查找的结果可能是滞后的，可以使用updatedb命令手动更新文件索引数据库然后使用locate命令查找
- du命令可以查看目录下的文件大小和目录总大小
- RHEL支持标准磁盘分区和逻辑卷管理(LVM),逻辑卷管理将一个或多个标准磁盘设备指定为物理卷汇集到存储池(卷组)中，再由池统一分配逻辑磁盘分区(逻辑卷)，LVM为动态管理分区提供了极大便利
- 磁盘分区或者逻辑卷需要以某种文件系统格式化后才可以使用，RHEL 7默认的文件系统格式为xfs
- 文件系统使用mount命令挂载到系统特定的目录上才能正常访问，可以使用df、mount和findmnt命令查看文件系统的挂载信息，也可以直接编辑/etc/fstab文件，系统下次启动会自动挂载该文件的内容,使用umount命令可以卸载文件系统
- 可以使用设备路径或者UUID(通用唯一识别符)挂载文件系统，后者比前者更可靠，可以使用blkid命令获取文件系统的UUID

## 用户管理

- id命令显示当前或其他用户的基本信息，groups命令显示所有的组，ID唯一标识组和用户，一个用户可以属于一个主组，多个副组，每个linux系统都存在一个root用户和root组，拥有系统最高权限，可以执行全部操作。linux系统中还存在一个特殊的wheel组，该组的用户可以拥有如使用su和sudo命令切换用户的特殊权限，RHEL 7默认为该组用户授予su和sudo的完整权限，但RHEL 7之前的版本不会为该组用户默认授予这些权限(只保留被授予这些权限的资格)。
- 用户信息位于/etc/passwd文件中，组信息位于/etc/group文件中，/etc/passwd文件中用户的密码以x表示，真正的密码使用加密算法加密后将密文存放于/etc/shadow文件中，RHEL 7较之前的版本支持了sha-256和sha-512两种新的加密方式，默认使用sha-512加密
- 用户和组可以使用useradd、userdel、usermod和groupadd、groupdel、groupmod命令管理，约定ID为1-500的用户和组是系统用户和组，500以外的用户和组是普通用户和组
- 用户切换支持su、su -、sudo三种方式，su是nologin方式的切换，变量和环境变量还是当前用户的，su -是login方式的切换，相当于真正的登陆，变量和环境变量是切换后的用户的，sudo是以root用户的身份执行命令，并没有真正的切换。su和su - 需要输入被切换用户的密码，sudo需要当前用户位于sudoer组中，执行命令时需要输入当前用户的密码
- chage用于管理用户密码过期策略
- 锁定用户阻止其登陆的方式：
  - 修改/etc/passwd文件的shell部分，将其shell设为nologin
  - 修改/etc/shadow文件将其密码密文设置为*，此方式会丢失用户密码
  - passwd -l / passwd -u 命令进行锁定和解锁，被锁定的用户仅可以用root用户su
  - usermod -L / usermod -U 命令进行锁定和解锁，被锁定的用户仅可以用root用户su

## 权限控制

### 标准权限控制

- Linux文件和目录都有所有者和所有组，可以通过chown和chgrp命令进行所有权管理
- Linux文件和目录都存在读取、写入和执行三种常规访问权限，三种权限分别对应到所有者、所有者组和其他用户上，通过usermod命令进行访问控制权限管理
- 系统的每个进程都具有umask，即访问控制掩码，用于限定进程创建的新目录和文件的权限，bash的系统默认掩码在/etc/profile和.bashrc文件定义，也可以用umask命令修改,umask由一个四位数组成，左起后三位为普通权限，第一位为特殊权限标志为，0表示特殊位无设置
- usermod -R可以递归修改权限，递归修改时权限位使用大写字母表示该权限只递归给已存在相应权限的子目录或子文件
- 特殊权限包括三种：
  - suid(u+s):作用于文件表示以拥有文件的用户身份而不是以运行文件的用户身份执行文件，作用于目录则无影响
  - sgid(g+s):作用于文件表示以拥有文件的组身份执行文件，作用于目录表示目录中新创建的文件将其组所有者设置为与目录的组所有者相匹配
  - sticky(o+t):作用于文件无影响，作用于目录表示对目录具有写入权限的用户仅可以删除其所拥有的文件，而无法删除或强制保存到其他用户所拥有的文件

### 访问控制列表

- 访问控制列表(ACL)可以提高文件访问权限控制的粒度，是标准文件权限控制的增强，ACL将权限分配细化到具体的用户和组
- ACL有单独的掩码，ACL掩码定义可授予指定用户、组所有者和指定组的最大权限，不限制文件所有者或其他用户的权限
- 使用getfacl和setfacl命令获取和设置ACL权限以及ACL掩码，getfacl和setfacl可以用于批量的权限备份和恢复(包括标准权限和ACL权限)
- setfacl -m:添加或修改ACL权限，setfacl -x：删除ACL权限，权限位置以u开头表示设置用户权限，u::设置所有者用户权限，g开头表示设置组权限，g::设置所有者组权限，m开头表示设置ACL掩码，d开头设置默认ACL权限

### SELINUX

- SElinux是一种复杂的基于对象的强制访问控制，是用于确定哪个进程可以访问哪些文件、目录和端口的一组安全规则，每个文件、进程和端口都具有SELinux上下文，通过上下文策略控制某个进程能否访问文件、目录和端口。默认策略不允许任何交互。
- SELinux有三种模式，可以使用getenforce查看当前模式，使用setenforce设置模式，强制模式(enforcing, 1)和许可模式(permissive, 0)可以使用setenforce命令在线转换，禁用模式(disabled)则必须在/etc/selinux/config文件中手动修改，重启生效
  - 强制模式(enforcing):SELinux主动拒绝任何规则外的交互并以日志记录
  - 许可模式(permissive):SELinux允许所有交互仅以日志告警
  - 禁用模式(disabled):禁用SELinux
- SELinux布尔值是更改SELinux策略行为的开关，用于启用或禁用具体规则

## 进程管理

- 进程的环境包括本地和全局变量、当前调度上下文和分配的系统资源。现有的进程可以复制自己的地址空间(fork)来创建新的子进程结构，每个进程有一个唯一的标识符PID，PID和父进程(PPID)是新进程的环境元素，任何进程都可以创建子进程，所有进程都是PID为1的系统进程的后代,RHEL 7中1号进程为systemd，RHEL 7之前版本的1号进程为initd，0号进程是一个特殊的闲逛进程，是1号进程的父进程
- 父进程的退出不会导致子进程的退出，如父进程退出而子进程仍未运行完，则该子进程会被1号进程领养成为其子进程，线程才会在进程退出的时候强制结束
- 进程状体分为运行中(R:进程在CPU上执行或正在等待运行)、睡眠(S、D、K)、已停止(T:暂停)和僵停(Z、X)四种，其中睡眠状态又分为可中断(S:响应事件或信号进行中断和继续)、不可中断(D:不响应信号，中断可能导致意外的设备状态)和可杀死(K:不可中断但可以响应信号而彻底退出)，僵停状态的进程分为释放所有资源仅保留PID(Z)和彻底释放连PID都没有(X)两种
- 使用ps命令查看当前时刻进程状态，ps默认显示于当前用户具有相同用户ID并与当前执行ps命令处于同一终端的所有进程，ps -ejH 或 ps axjf 以树形查看进程，可以添加--sort参数选择排序方式，pstree命令以更有好的树形结构查看进程，top可以监控进程的动态变化
- 使用lsof命令查看指定文件被哪个进程打开或使用
- 前台进程是在终端窗口运行的命令，后台进程是以无终端的形式启动的，可以使用jobs命令查看所有后台进程，可以使用bg命令或&符号将当前进程转为后台进程，使用fg命令将后台进程调回前台执行。也可以Ctrl+z发送暂停请求将当前进程中止并发往后台
- 守护进程(daemon)是一种控制台无关的永远运行于后台的进程，守护进程会脱离其父进程(成为1号进程的子进程)，通常在操作系统上长期运行等待请求
- 对进程的中断可以通过发送信号实现，信号是传递至进程的软件中断，每个信号都有一个默认操作，通常是终止(导致程序立即终止退出)、核心转储(导致程序保存内存映像然后终止退出)或停止(导致程序暂停执行，等待继续执行)。基本的进程管理信号有：
  - 信号1(HUP):挂起
  - 信号2(INT):键盘中断(Ctrl+c)
  - 信号3(QUIT):键盘退出,核心转储(Ctrl+\)
  - 信号9(KILL):无法拦截的中断
  - 信号15(TERM):正常终止
  - 信号18(CONT):继续
  - 信号19(STOP):无法拦截的停止
  - 信号20(TSTP):键盘停止(Ctrl+z)
- kill命令可以向指定PID的进程发送信号，默认发送的信号是TERM，killall命令可以向多个进程发送信号，pkill是killall命令的增强版，可以对多个进程进行过滤
- Linux内核以负载数(活动系统资源请求的CPU累计数)的指数移动平均值计算负载平均值指标，RHEL将CPU和IO负载均纳入系统负载的考量，负载平均值可以使用uptime和top命令查看，三个值分别表示最近1、5、15分钟的系统平均负载，显示的负载平均值除以逻辑CPU核数，得到的值低于1表示资源利用率较好，高于1表示系统资源饱和，服务存在一定的等待时间
- 每个进程都有调度优先级，表示进程在竞争时间片时占用CPU的优先程度，除进程启动时设定的默认优先级外，用户还可以通过更改进程的NICE值手动调整进程优先级(优秀级时默认优先级和NICE值之和)，优先级值越低优先级越高。NICE值范围从-20到19，普通用户只能给进程赋正的NICE值，只有root用户可以给进程赋负值
- top命令可以对系统进程作实时监控(事实上top是对整个系统的实时监控)，top命令下进程的默认输出列有：
  - PID：进程ID
  - USER：进程所有者
  - PR：进程优先级
  - NI：进程的NICE值
  - RES：常驻内存，即进程所用的物理内存
  - VIRT：虚拟内存，包括常驻内存、共享库和交换空间在内的所有内存
  - SHR：共享内存大小
  - S：进程状态，D为不可中断睡眠，R为运行中或可运行，S为睡眠中，T为已停止或已跟踪，Z为僵停
  - %CPU：进程当前的CPU占用率
  - %MEM：进程当前的内存占用率
  - TIME+：进程自启动以来的CPU总处理时间(不是总运行时间)
  - COMMAND：进程命令名称
- 服务是一个或多个相关进程的集合，RHEL 7中可以使用systemctl控制服务的状态和是否允许服务开机启动，RHEL 7之前版本使用service和chkconfig控制服务，可以使用systemctl mask和systemctl unmask对服务进行屏蔽和解除屏蔽，被屏蔽的服务不会自动启动也不允许手动启动

## 远程登录

- 用户可以通过ssh从本机登录远程系统，ssh即OpenSSH Secure Shell，它是一种安全的网络传输协议，提供一系列远程访问工具集，包括ssh、scp、sftp等多个命令工具
- SSH通过rsa非对称加密的方式保持通信安全，当ssh客户端连接到ssh服务器时，客户端登录前服务器会向其发送公钥副本，该公钥副本会存储于客户端的~/.ssh/known_hosts文件中，此后每次登录客户端都会对比服务器发送的公钥和known_hosts文件中保存的条目，如果不匹配则拒绝连接。一旦出现不匹配的情况，用户可以手动编辑known_hosts文件删除相应条目或直接删除known_hosts文件(该文件会自动生成)免除拒绝连接的麻烦
- ssh远程登录时，基于密码的身份验证要求每次都输入密码，非常不方便，可以通过配置基于密钥的身份验证实现自动登录。客户端使用ssh-keygen命令生成私钥~/.ssh/id_rsa和公钥~/.ssh/id_rsa.pub(私钥和公钥的权限必须是600和644)，然后使用scp或者ssh-copy-id命令将公钥文件~/.ssh/id_rsa.pub复制到服务器的~/.ssh/目录下，下次登录服务器即可实现免密登录
- ssh除支持普通的远程登录外，还支持本地端口转发、远程端口转发和动态端口转发三种登录方式，以解决外部客户端无法直接访问内部服务器的问题
- 通过配置ssh的配置文件/etc/ssh/sshd_config可以实现诸如禁用root远程登录、禁用密码方式的身份验证远程登录等提高服务器安全

## 系统日志

- Linux系统运行过程中产生的各种日志统一放置在/var/log目录中
- rsyslog服务负责收集各种系统日志并将其写入到/var/log目录下的永久文件中，RHEL 7中加入systemd-journald服务用于结构化存储系统日志，即将日志存储于内存数据库中(/run/log/journal)，默认情况下重启不保存，也可以选择将systemd-journald收集的日志传递给rsyslog持久化到文件中，journald日志使用journalctl命令行工具进行管理，可以以root用户创建/var/log/journal目录，则journald收集的系统日志会被永久保存在其中
- 系统日志类型：
  - /var/log/messages:大多数系统日志消息的日志文件
  - /var/log/secure:安全和身份验证相关的消息和错误的日志文件
  - /var/log/maillog:与邮件服务器相关消息的日志文件
  - /var/log/cron:与定期执行任务相关的日志文件
  - /var/log/boot.log:与系统启动相关的消息的日志文件
- 系统日志由高到低包括emerg、alert、crit、err、warning、notice、info、debug等8个优先级，/etc/rsyslog.d/目录下的*.conf文件可以对系统日志制定各种收集规则
- 日志通过logrotate工具实现轮转，它可以定期将系统相关日志归档，过旧的日志还可以自动删除，以防止日志填满/var/log文件系统。日志的轮转规则在/etc/logrotate.conf文件中配置，logrotate与cron配合实现日志的定期轮转，RHEL 7默认每日轮转一次，配置文件为/etc/cron.daily/logrotate
- 除系统日志外，应用程序自己也可能产生专门的日志文件，一般将日志存放于/var/log目录的专门目录下
- 使用tail -f可以实时监控指定日志文件的变化，使用logger可以手动向rsyslog发送日志消息
- RHEL 7使用tiemdatactl命令进行日期时间的相关管理，包括时间、时区和时钟同步等，可以使用tzseelct命令获取正确的时区信息
- RHEL 7默认的时钟同步服务是chronyd,RHEL 7之前版本默认的时钟同步服务是ntpd，chronyd服务配置文件为/etc/chrony.conf

## 网络管理

### 网络基础

### 网络配置

- RHEL 7中网络接口名称进行了重新规范，具体规则如下：
  - 以太网接口以en开头，wlan接口以wl开头，wwan接口以ww开头
  - 接下来的字符表示适配器类型，o代表板载，s代表热插拔，p代表pci板，x用于融入mac地址，pci卡可能有四个字符，pXpY或pXsY，X表示pci插槽号，y表示pci卡上端口号
  - 最后使用数字N代表索引、ID或端口
  - 如果无法确定固定名称，则使用ethN等传统名称
- 使用ifconfig或ip命令(ip a、ip r、ip l)查看网络设备的状态及路由信息
- 使用ping或nmap命令检查网络连通性和亚远程主机的基本信息及端口开放情况
- 使用mtr或traceroute或tracepath命令查看数据包在网络中的路由过程
- 使用netstat或ss命令查看当前系统套接字统计信息
- 使用host、nslookup或dig命令进行域名解析
- 使用nmcli进行网络配置(nmcli是NetworkManager的命令行配置工具)

## 归档同步

- 使用tar命令进行文件归档或者打开/提取归档文件
- tar命令支持创建和提取压缩归档，tar支持三种压缩算法：
  - gzip:tar zcvf,文件后缀为*.tar.gz 或 *.tar.tgz
  - bzip2:tar jcvf,文件后缀为*.tar.bz2
  - xz:tar Jcvf,文件后缀为*.tar.xz
- gzip、bzip2和xz也可单独压缩或解压文件
- 使用rsync可以在本地或者远程同步文件，rsync与scp的区别在于rsync的同步是基于校验的，一次同步后，再次同步不会再重复传输已存在的文件，rsync可以直接代替scp和cp命令，支持显示传输过程和传输信息

## 软件包管理

- rpm是redhat开发的软件包管理器，提供一种标准的软件打包分发方式，使用rpm打包的软件包已.rpm为后缀，以name-version-release.architecture的方式命名
- rpm可以获取软件包的相关信息
  - rpm -q PACKAGENAME:查询PACKAGENAME软件包的信息，rpm -qa可以查询所有已安装的软件包
  - rpm -qf FILENAME:查询哪个软件包提供FILENAME文件
  - rpm -qi PACKAGENAME:查询PACKAGENAME软件包的信息
  - rpm -ql PACKAGENAME:查询PACKAFENAME软件包安装的文件
  - rpm -qc PACKAGENAME:查询PACKAGENAME软件包的配置文件
  - rpm -qd PACKAGENAME:查询PACKAGENAME软件包的文档文件
  - rpm -q --scripts PACKAGENAME:查询PACKAGENAME软件包包含的shell脚本
  - rpm -q --changelog PACKAGENAME:查询PACKAGENAME软件包新发行版的简短原因摘要
  - rpm -ivh PACKAGEFILE:安装PACKAGEFILE软件包
  - rpm -e PACKAGENAME:卸载PACKAGENAME软件包
- 使用rpm2cpio命令可以从rpm软件包中提取文件
- yum是一个更加灵活强大的软件包管理工具，支持直接从网络下载所需软件包并自动列出并下载相关依赖包，yum也支持安装本地rpm包，与rpm安装相比，yum能自动识别并下载rpm包的依赖包
  - yum list:列出已安装和可用的软件包
  - yum search:根据关键字搜索已安装和可用的软件包
  - yum info：查询软件包的信息
  - yum provides:显示与指定路径名相匹配的软件包
  - yum install:安装软件包
  - yum update:更新指定或全部软件包
  - yum remove:删除已安装的软件包
  - yum grouplist/yum group list:列出已安装和可用的软件包组
  - yum groupinfo/yum group info:查询软件包组信息
  - yum groupinstall/yum group install:安装软件包组
  - yum groupremove yum group remove:删除已安装的软件包组
  - yum history:显示安装事务记录
- RHEL 7中的yum组被视为对象，受到系统跟踪，RHEL 7之前版本中yum组是松散结构，安装了组中所有的软件包就代表安装了组，而RHEL 7中只有显式安装组才算
- 可以向/etc/yum.repos.d目录中添加第三方软件源/存储库
- 可以直接使用createrepo自建存储库

## 虚拟化

- KVM是标准RHEL内核中内置的完整虚拟化解决方案，已加入Linux内核，KVM是完全虚拟化方案，将内核转化为hypervisor，因此由KVM虚拟出来的虚拟机之间相互独立，支持完整的硬件虚拟，能够在其虚拟机上运行包括Windows、Linux在内的各种主流操作系统
- KVM系统管理程序由应用程序如virt-manager(GUI),virsh(CLI)等通过调用libvirt API进行管理
- KVM虚拟化技术是redhat云基础架构多种产品的一致组件,KVM提供横跨单节点胖主机,企业虚拟化RHEV,RHEL OpenStack平台等所有redhat产品的虚拟化技术































chmod +x:添加可执行权限
chmod +X:当且仅当文件是目录或者已经对某个用户有执行权限的时候才添加可执行权限

ps axo pid,nice,command --sort=nice    // ps命令可以指定显示的列和排序方式

ACL可以为每个用户在每个文件上分配单独的权限，具有ACL权限设置的文件和目录会在ls -l命令的权限列最后一位显示+号，显示的用户和其他权限与普通权限一致，组权限则显示的ACL掩码，而不是普通的组权限，ACL掩码限制了组和组中用户对文件能获得的最大权限，普通权限优先级低于ACL权限。对ACL文件和目录使用chmod更改组权限，会更改ACL掩码，而不会更改组权限，更改组权限需要使用命令：setfacl -m g::perms file。ACL可用于批量备份和恢复文件权限

